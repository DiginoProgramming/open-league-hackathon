{"version":3,"file":"TonfuraProvider-6cd1ec81.js","sources":["../../src/api/TonfuraProvider.ts"],"sourcesContent":["import axios, { AxiosResponse } from 'axios';\n\nimport { Method, getTonfuraHttpUrl } from '../constants';\nimport { JsonRpcRequest, JsonRpcResponse } from '../types/json-rpc-types';\nimport { TonfuraConfig } from './TonfuraConfig';\n\n/**\n * SDK's custom implementation of 'TonfuraProvider'.\n *\n * Do not call this constructor directly. Instead, instantiate an instance of\n * {@link Tonfura} and call {@link Tonfura.config.getProvider()}.\n *\n * @public\n */\nexport class TonfuraProvider {\n  readonly baseUrl: string;\n  readonly maxRetries: number;\n\n  /** @internal */\n  constructor(config: TonfuraConfig) {\n    const apiKey = config.apiKey;\n\n    const network = config.network;\n\n    this.baseUrl = getTonfuraHttpUrl(network, apiKey);\n\n    if (config.url !== undefined) {\n      this.baseUrl = config.url;\n    }\n\n    this.maxRetries = config.maxRetries;\n  }\n\n  /** @internal */\n  sendJsonRpcRequest<JsonRpcRequestParams, JsonRpcResponseResult>(\n    method: Method,\n    params?: JsonRpcRequestParams\n  ): Promise<AxiosResponse<JsonRpcResponse<JsonRpcResponseResult>>> {\n    return axios.post<\n      JsonRpcResponse<JsonRpcResponseResult>,\n      AxiosResponse<JsonRpcResponse<JsonRpcResponseResult>>,\n      JsonRpcRequest<JsonRpcRequestParams>\n    >(this.baseUrl, {\n      jsonrpc: '2.0',\n      id: 0,\n      method,\n      params\n    });\n  }\n}\n"],"names":[],"mappings":";;;AAMA;;;;;;;AAOG;MACU,eAAe,CAAA;;AAK1B,IAAA,WAAA,CAAY,MAAqB,EAAA;AAC/B,QAAA,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAE7B,QAAA,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;QAE/B,IAAI,CAAC,OAAO,GAAG,iBAAiB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AAElD,QAAA,IAAI,MAAM,CAAC,GAAG,KAAK,SAAS,EAAE;AAC5B,YAAA,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC;AAC3B,SAAA;AAED,QAAA,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC;KACrC;;IAGD,kBAAkB,CAChB,MAAc,EACd,MAA6B,EAAA;AAE7B,QAAA,OAAO,KAAK,CAAC,IAAI,CAIf,IAAI,CAAC,OAAO,EAAE;AACd,YAAA,OAAO,EAAE,KAAK;AACd,YAAA,EAAE,EAAE,CAAC;YACL,MAAM;YACN,MAAM;AACP,SAAA,CAAC,CAAC;KACJ;AACF;;;;"}